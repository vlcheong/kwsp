'use strict';(function(){function a(a){let b="",c=0;for(let d=0;d<k.length;d++){const e=new Date(a,d+1,0).getDate();c+=e,b+=`<tr>
                        <td>${k[d]}</td>
                        <td class="days" data-month="${k[d]}">${e}</td>
                        <td class="acc-day" data-month="${k[d]}">${c}</td>
                        <td><input type="text" class="employer text-end" data-month="${k[d]}" value="0"></td>
                        <td><input type="text" class="employee text-end" data-month="${k[d]}" value="0"></td>
                        <td class="total-contribution text-end" data-month="${k[d]}">0</td>

                        <td class="account1-contribution text-end" data-month="${k[d]}">0</td>
                        <td class="account2-contribution text-end" data-month="${k[d]}">0</td>
                        <td class="account1-dividend text-end" data-month="${k[d]}">0</td>
                        <td class="account2-dividend text-end" data-month="${k[d]}">0</td>
                        <td class="total-dividend text-end" data-month="${k[d]}">0</td>
                    </tr>
                    `}document.getElementById("monthly").innerHTML=b}function b(a){document.querySelectorAll(".year").forEach(function(b){b.innerText=a})}function c(a){return!isNaN(a)&&("number"==typeof a||a instanceof Number)&&isFinite(a)}function d(a){switch(typeof a){case"string":return!0;case"object":return a.constructor===String;default:return!1;}}function e(a){if(c(a))return a;if(d(a)){const b=parseInt(a.replace(/,/g,""),10);return isNaN(b)?0:b}return 0}function f(a){if(c(a))return a;if(d(a)){const b=parseFloat(a.replace(/,/g,""));return isNaN(b)?0:b}return 0}function g(){const a=f(m.value)+f(n.value);o.innerText=a.toFixed(2)}function h(){for(let a=0;a<k.length;a++){const b=f(document.querySelector(`.employer[data-month="${k[a]}"]`).value),c=f(document.querySelector(`.employee[data-month="${k[a]}"]`).value),d=b+c;let e=.7*d;e=e.toFixed(2),document.querySelector(`.account1-contribution[data-month="${k[a]}"]`).innerText=e;let g=d-f(e);g=g.toFixed(2),document.querySelector(`.account2-contribution[data-month="${k[a]}"]`).innerText=g,document.querySelector(`.total-contribution[data-month="${k[a]}"]`).innerText=d.toFixed(2)}}function i(){const a=.01*f(l.value),b=e(document.querySelector(".acc-day[data-month=\"Dec\"]").innerText),c={contribution:{employer:0,employee:0,total:0,account1:0,account2:0},dividend:{account1:0,account2:0,total:0}};let d=f(m.value),g=f(n.value);for(let e=0;e<k.length;e++){const h=f(document.querySelector(`.days[data-month="${k[e]}"]`).innerText);let i=f(document.querySelector(`.account1-contribution[data-month="${k[e]}"]`).innerText),j=i*a/b;0<e&&(d+=f(document.querySelector(`.account1-contribution[data-month="${k[e-1]}"]`).innerText)),j+=d*a*h/b,j=j.toFixed(2),document.querySelector(`.account1-dividend[data-month="${k[e]}"]`).innerText=j,i=f(document.querySelector(`.account2-contribution[data-month="${k[e]}"]`).innerText);let l=i*a/b;0<e&&(g+=f(document.querySelector(`.account2-contribution[data-month="${k[e-1]}"]`).innerText)),l+=g*a*h/b,l=l.toFixed(2),document.querySelector(`.account2-dividend[data-month="${k[e]}"]`).innerText=l;const m=f(j)+f(l);document.querySelector(`.total-dividend[data-month="${k[e]}"]`).innerText=m.toFixed(2),c.contribution.employer+=f(document.querySelector(`.employer[data-month="${k[e]}"]`).value),c.contribution.employee+=f(document.querySelector(`.employee[data-month="${k[e]}"]`).value),c.contribution.total+=f(document.querySelector(`.total-contribution[data-month="${k[e]}"]`).innerText),c.contribution.account1+=f(document.querySelector(`.account1-contribution[data-month="${k[e]}"]`).innerText),c.contribution.account2+=f(document.querySelector(`.account2-contribution[data-month="${k[e]}"]`).innerText),c.dividend.account1+=f(j),c.dividend.account2+=f(l),c.dividend.total+=m}j(c)}function j(a){document.getElementById("total_employer_contribution").innerText=a.contribution.employer.toFixed(2),document.getElementById("total_employee_contribution").innerText=a.contribution.employee.toFixed(2),document.getElementById("total_contribution").innerText=a.contribution.total.toFixed(2),document.getElementById("total_account1_contribution").innerText=a.contribution.account1.toFixed(2),document.getElementById("total_account2_contribution").innerText=a.contribution.account2.toFixed(2),document.getElementById("total_account1_dividend").innerText=a.dividend.account1.toFixed(2),document.getElementById("total_account2_dividend").innerText=a.dividend.account2.toFixed(2),document.getElementById("total_dividend").innerText=a.dividend.total.toFixed(2);let b=f(m.value)+a.contribution.account1+a.dividend.account1;b=b.toFixed(2),document.getElementById("account1_balance").innerHTML=`<b>${b}</b>`;let c=f(n.value)+a.contribution.account2+a.dividend.account2;c=c.toFixed(2),document.getElementById("account2_balance").innerHTML=`<b>${c}</b>`,document.getElementById("total_balance").innerHTML=`<b>${(f(b)+f(c)).toFixed(2)}</b>`}const k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l=document.getElementById("dividend"),m=document.getElementById("account1"),n=document.getElementById("account2"),o=document.getElementById("opening");(function(){const c=new Date,d=c.getFullYear()-1;document.getElementById("year").value=d,document.getElementById("this_year").innerText=c.getFullYear(),a(d),b(d),document.getElementById("year").addEventListener("blur",function(){a(this.value),b(this.value),i()}),document.getElementById("set_contribution").addEventListener("click",function(a){a.preventDefault();const b=f(document.getElementById("employer").value).toFixed(2);document.querySelectorAll(".employer").forEach(function(a){a.value=b});const c=f(document.getElementById("employee").value).toFixed(2);document.querySelectorAll(".employee").forEach(function(a){a.value=c}),h(),i()}),m.addEventListener("blur",function(){g(),i()}),n.addEventListener("blur",function(){g(),i()}),document.querySelectorAll(".employer").forEach(function(a){a.addEventListener("blur",function(){h(),i()})}),document.querySelectorAll(".employee").forEach(function(a){a.addEventListener("blur",function(){h(),i()})}),document.querySelectorAll("input").forEach(function(a){a.addEventListener("focus",function(){0<this.value.trim().length&&this.select()})})})()})();