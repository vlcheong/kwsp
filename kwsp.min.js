"use strict";document.addEventListener("DOMContentLoaded",function(){const m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=document.getElementById("dividend"),y=document.getElementById("account1"),x=document.getElementById("account2"),v=document.getElementById("account3"),n=document.getElementById("opening");var e,o;function c(e){let n="",o=0;for(let t=0;t<m.length;t++){var c=new Date(e,t+1,0).getDate();o+=c,n+=`<tr>
                        <td>${m[t]}</td>
                        <td class="days" data-month="${m[t]}">${c}</td>
                        <td class="acc-day" data-month="${m[t]}">${o}</td>
                        <td><input type="text" class="employer text-end" data-month="${m[t]}" value="0"></td>
                        <td><input type="text" class="employee text-end" data-month="${m[t]}" value="0"></td>
                        <td class="total-contribution text-end" data-month="${m[t]}">0</td>

                        <td class="account1-contribution text-end" data-month="${m[t]}">0</td>
                        <td class="account2-contribution text-end" data-month="${m[t]}">0</td>
                        <td class="account3-contribution text-end" data-month="${m[t]}">0</td>
                        <td class="account1-dividend text-end" data-month="${m[t]}">0</td>
                        <td class="account2-dividend text-end" data-month="${m[t]}">0</td>
                        <td class="account3-dividend text-end" data-month="${m[t]}">0</td>
                        <td class="total-dividend text-end" data-month="${m[t]}">0</td>
                    </tr>
                    `}document.getElementById("monthly").innerHTML=n}function d(e){document.querySelectorAll(".year").forEach(function(t){t.innerText=e})}function u(){for(let o=0;o<m.length;o++){var c=h(document.querySelector(`.employer[data-month="${m[o]}"]`).value)+h(document.querySelector(`.employee[data-month="${m[o]}"]`).value);let t=.75*c,e=(t=t.toFixed(2),document.querySelector(`.account1-contribution[data-month="${m[o]}"]`).innerText=t,.15*c),n=(e=e.toFixed(2),document.querySelector(`.account2-contribution[data-month="${m[o]}"]`).innerText=e,c-h(t)-h(e));n=n.toFixed(2),document.querySelector(`.account3-contribution[data-month="${m[o]}"]`).innerText=n,document.querySelector(`.total-contribution[data-month="${m[o]}"]`).innerText=c.toFixed(2)}}function i(){var c=.01*h(t.value),d=function(t){if(b(t))return t;if(s(t))return t=parseInt(t.trim().replace(/,/g,""),10),isNaN(t)?0:t;return 0}(document.querySelector('.acc-day[data-month="Dec"]').innerText),u={contribution:{employer:0,employee:0,total:0,account1:0,account2:0,account3:0},dividend:{account1:0,account2:0,account3:0,total:0}};let i=h(y.value),a=h(x.value),r=h(v.value);for(let o=0;o<m.length;o++){var l=h(document.querySelector(`.days[data-month="${m[o]}"]`).innerText);let t=h(document.querySelector(`.account1-contribution[data-month="${m[o]}"]`).innerText)*c/d,e=(0<o&&(i+=h(document.querySelector(`.account1-contribution[data-month="${m[o-1]}"]`).innerText)),t=(t+=i*c*l/d).toFixed(2),document.querySelector(`.account1-dividend[data-month="${m[o]}"]`).innerText=t,h(document.querySelector(`.account2-contribution[data-month="${m[o]}"]`).innerText)*c/d),n=(0<o&&(a+=h(document.querySelector(`.account2-contribution[data-month="${m[o-1]}"]`).innerText)),e=(e+=a*c*l/d).toFixed(2),document.querySelector(`.account2-dividend[data-month="${m[o]}"]`).innerText=e,h(document.querySelector(`.account3-contribution[data-month="${m[o]}"]`).innerText)*c/d);0<o&&(r+=h(document.querySelector(`.account3-contribution[data-month="${m[o-1]}"]`).innerText)),n=(n+=r*c*l/d).toFixed(2),document.querySelector(`.account3-dividend[data-month="${m[o]}"]`).innerText=n;l=h(t)+h(e)+h(n);document.querySelector(`.total-dividend[data-month="${m[o]}"]`).innerText=l.toFixed(2),u.contribution.employer+=h(document.querySelector(`.employer[data-month="${m[o]}"]`).value),u.contribution.employee+=h(document.querySelector(`.employee[data-month="${m[o]}"]`).value),u.contribution.total+=h(document.querySelector(`.total-contribution[data-month="${m[o]}"]`).innerText),u.contribution.account1+=h(document.querySelector(`.account1-contribution[data-month="${m[o]}"]`).innerText),u.contribution.account2+=h(document.querySelector(`.account2-contribution[data-month="${m[o]}"]`).innerText),u.contribution.account3+=h(document.querySelector(`.account3-contribution[data-month="${m[o]}"]`).innerText),u.dividend.account1+=h(t),u.dividend.account2+=h(e),u.dividend.account3+=h(n),u.dividend.total+=l}{var o=u;document.getElementById("total_employer_contribution").innerText=o.contribution.employer.toFixed(2),document.getElementById("total_employee_contribution").innerText=o.contribution.employee.toFixed(2),document.getElementById("total_contribution").innerText=o.contribution.total.toFixed(2),document.getElementById("total_account1_contribution").innerText=o.contribution.account1.toFixed(2),document.getElementById("total_account2_contribution").innerText=o.contribution.account2.toFixed(2),document.getElementById("total_account3_contribution").innerText=o.contribution.account3.toFixed(2),document.getElementById("total_account1_dividend").innerText=o.dividend.account1.toFixed(2),document.getElementById("total_account2_dividend").innerText=o.dividend.account2.toFixed(2),document.getElementById("total_account3_dividend").innerText=o.dividend.account3.toFixed(2),document.getElementById("total_dividend").innerText=o.dividend.total.toFixed(2);let t=h(y.value)+o.contribution.account1+o.dividend.account1,e=(t=t.toFixed(2),document.getElementById("account1_balance").innerHTML=`<b>${t}</b>`,h(x.value)+o.contribution.account2+o.dividend.account2),n=(e=e.toFixed(2),document.getElementById("account2_balance").innerHTML=`<b>${e}</b>`,h(v.value)+o.contribution.account3+o.dividend.account3);n=n.toFixed(2),document.getElementById("account3_balance").innerHTML=`<b>${n}</b>`,document.getElementById("total_balance").innerHTML=`<b>${(h(t)+h(e)+h(n)).toFixed(2)}</b>`}}function b(t){return!isNaN(t)&&("number"==typeof t||t instanceof Number)&&isFinite(t)}function s(t){switch(typeof t){case"string":return 1;case"object":return t.constructor===String;default:return}}function h(t){return!b(t)&&(!s(t)||(t=parseFloat(t.trim().replace(/,/g,"")),isNaN(t)))?0:t}e=new Date,o=e.getFullYear()-1,document.getElementById("year").value=o,document.getElementById("this_year").innerText=e.getFullYear(),c(o),d(o),document.getElementById("year").addEventListener("blur",function(t){c(this.value),d(this.value),i()}),document.getElementById("set_contribution").addEventListener("click",function(t){t.preventDefault();const e=h(document.getElementById("employer").value).toFixed(2),n=(document.querySelectorAll(".employer").forEach(function(t){t.value=e}),h(document.getElementById("employee").value).toFixed(2));document.querySelectorAll(".employee").forEach(function(t){t.value=n}),u(),i()}),[t,y,x,v].forEach(function(t,e){t.addEventListener("blur",function(){var t;t=h(y.value)+h(x.value)+h(v.value),n.innerText=t.toFixed(2),i()})}),document.querySelectorAll(".employer").forEach(function(t){t.addEventListener("blur",function(t){u(),i()})}),document.querySelectorAll(".employee").forEach(function(t){t.addEventListener("blur",function(t){u(),i()})}),document.querySelectorAll("input").forEach(function(t){t.addEventListener("focus",function(t){0<this.value.trim().length&&this.select()})})});